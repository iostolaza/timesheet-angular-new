
<!-- src/app/timesheet/review-form/review-form.component.html -->

<div class="container mx-auto p-4">
      <h1>Timesheet Review - ID: {{ timesheet?.id }}</h1>
      <p>Status: {{ timesheet?.status }}</p>
      <full-calendar [options]="calendarOptions"></full-calendar>
      <h2>Granular Entries</h2>
      <table mat-table [dataSource]="timesheet?.entries || []">
        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef> Date </th>
          <td mat-cell *matCellDef="let entry"> {{ entry.date }} </td>
        </ng-container>
        <ng-container matColumnDef="startTime">
          <th mat-header-cell *matHeaderCellDef> Start </th>
          <td mat-cell *matCellDef="let entry"> {{ entry.startTime }} </td>
        </ng-container>
        <ng-container matColumnDef="endTime">
          <th mat-header-cell *matHeaderCellDef> End </th>
          <td mat-cell *matCellDef="let entry"> {{ entry.endTime }} </td>
        </ng-container>
        <ng-container matColumnDef="hours">
          <th mat-header-cell *matHeaderCellDef> Hours </th>
          <td mat-cell *matCellDef="let entry"> {{ entry.hours }} </td>
        </ng-container>
        <ng-container matColumnDef="chargeCode">
          <th mat-header-cell *matHeaderCellDef> Charge Code </th>
          <td mat-cell *matCellDef="let entry"> {{ entry.chargeCode }} </td>
        </ng-container>
        <ng-container matColumnDef="description">
          <th mat-header-cell *matHeaderCellDef> Description </th>
          <td mat-cell *matCellDef="let entry"> {{ entry.description }} </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="entryColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: entryColumns;"></tr>
      </table>
      <h2>Daily Aggregates</h2>
      <table mat-table [dataSource]="timesheet?.dailyAggregates || []">
        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef> Date </th>
          <td mat-cell *matCellDef="let agg"> {{ agg.date }} </td>
        </ng-container>
        <ng-container matColumnDef="base">
          <th mat-header-cell *matHeaderCellDef> Base Hours </th>
          <td mat-cell *matCellDef="let agg"> {{ agg.base }} </td>
        </ng-container>
        <ng-container matColumnDef="ot">
          <th mat-header-cell *matHeaderCellDef> OT Hours </th>
          <td mat-cell *matCellDef="let agg"> {{ agg.ot }} </td>
        </ng-container>
        <ng-container matColumnDef="regPay">
          <th mat-header-cell *matHeaderCellDef> Reg Pay </th>
          <td mat-cell *matCellDef="let agg"> ${{ agg.regPay.toFixed(2) }} </td>
        </ng-container>
        <ng-container matColumnDef="otPay">
          <th mat-header-cell *matHeaderCellDef> OT Pay </th>
          <td mat-cell *matCellDef="let agg"> ${{ agg.otPay.toFixed(2) }} </td>
        </ng-container>
        <ng-container matColumnDef="subtotal">
          <th mat-header-cell *matHeaderCellDef> Subtotal </th>
          <td mat-cell *matCellDef="let agg"> ${{ agg.subtotal.toFixed(2) }} </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="dailyColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: dailyColumns;"></tr>
      </table>
      <h2>Client Aggregates</h2>
      <table mat-table [dataSource]="clientAggregates">
        <ng-container matColumnDef="chargeCode">
          <th mat-header-cell *matHeaderCellDef> Charge Code </th>
          <td mat-cell *matCellDef="let agg"> {{ agg.chargeCode }} </td>
        </ng-container>
        <ng-container matColumnDef="totalHours">
          <th mat-header-cell *matHeaderCellDef> Total Hours </th>
          <td mat-cell *matCellDef="let agg"> {{ agg.totalHours }} </td>
        </ng-container>
        <ng-container matColumnDef="totalPay">
          <th mat-header-cell *matHeaderCellDef> Total Pay </th>
          <td mat-cell *matCellDef="let agg"> ${{ agg.totalPay.toFixed(2) }} </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="clientColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: clientColumns;"></tr>
      </table>
      <h2>Overall Summary</h2>
      <p>Total Hours: {{ timesheet?.totalHours }}</p>
      <p>Gross Total: ${{ timesheet?.grossTotal?.toFixed(2) }}</p>
      <p>Tax: ${{ timesheet?.taxAmount?.toFixed(2) }}</p>
      <p>Net Total: ${{ timesheet?.netTotal?.toFixed(2) }}</p>
      <p>Total Cost: ${{ timesheet?.totalCost?.toFixed(2) }}</p>
    </div>