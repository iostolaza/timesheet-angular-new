
<!-- src/app/timesheet/calendar-view/day-entry-dialog.component.html -->

<div class="bg-white rounded-2xl shadow-xl p-6">
  <h2 class="text-2xl font-bold text-gray-800 mb-4">Edit Day Entry</h2>
  <form [formGroup]="form" class="space-y-4">
    <!-- Charge Code -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Charge Code *</label>
      <select formControlName="chargeCode" class="w-full border border-gray-300 rounded-md px-3 py-2 bg-white focus:ring-2 focus:ring-blue-500 focus:outline-none" [attr.aria-required]="form.get('chargeCode')?.hasError('required')">
        <option value="">Select charge code</option>
        @for (code of data.availableChargeCodes; track code.name) {
          <option [value]="code.name">{{ code.name }}</option>
        }
      </select>
      @if (form.get('chargeCode')?.hasError('required') && form.get('chargeCode')?.touched) {
        <div class="text-red-500 text-sm mt-1">Charge code is required</div>
      }
    </div>
    <!-- Comment -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Comment *</label>
      <textarea formControlName="description" rows="3" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" placeholder="Enter comment"></textarea>
      @if (form.get('description')?.hasError('required') && form.get('description')?.touched) {
        <div class="text-red-500 text-sm mt-1">Comment is required</div>
      }
    </div>
  </form>
  <!-- Buttons -->
<div class="mt-6 flex justify-end gap-3">
    <button mat-button class="!bg-gray-200 text-gray-800 px-4 py-2 !rounded-lg hover:!bg-gray-300 disabled:opacity-50 font-medium" (click)="cancel()" [disabled]="saving" aria-label="Cancel">Cancel</button>
    <button mat-button class="!bg-red-600 !text-white px-4 py-2 !rounded-lg hover:!bg-red-700 disabled:opacity-50 font-medium" (click)="delete()" [disabled]="saving" aria-label="Delete">Delete</button>
    <button mat-raised-button class="!bg-gray-700 !text-white px-4 py-2 !rounded-lg hover:!bg-gray-600 disabled:opacity-50 font-medium" (click)="save()" [disabled]="form.invalid || saving" aria-label="Save">Save</button>
  </div>
</div>