
<!-- src/app/user/edit-user-profile/edit-user-profile.component.html -->



<div class="min-h-screen bg-gray-50 py-8 px-4">

  <div class="max-w-2xl mx-auto">
    <div class="container mx-auto px-10 max-w-7xl">
      <h1 class="text-3xl font-bold text-gray-900">Edit Profile</h1>

      </div>

    <div class="bg-white rounded-2xl shadow-xl p-8">
      <!-- <h2 class="text-3xl font-bold text-gray-800 mb-2">Edit Your Profile</h2> -->
      <p class="text-gray-600 mb-6">Update your profile information</p>
      @if (errorMessage) {
        <div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4" role="alert">
          {{ errorMessage }}
        </div>
      }
      @if (successMessage) {
        <div class="bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-4" role="alert">
          {{ successMessage }}
        </div>
      }
      @if (loading) {
        <div class="text-center py-4">
          Loading...
        </div>
      } @else {
        @if (userForm) {
          <form [formGroup]="userForm" class="space-y-6">
            <!-- User ID (Readonly) -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">User ID</label>
              <input
                type="text"
                formControlName="id"
                class="w-full border border-gray-300 rounded-lg px-4 py-2.5 bg-gray-100"
                readonly
                aria-readonly="true"
              />
            </div>
            <!-- Email (Readonly) -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
              <input
                type="email"
                formControlName="email"
                class="w-full border border-gray-300 rounded-lg px-4 py-2.5 bg-gray-100"
                readonly
                aria-readonly="true"
              />
            </div>
            <!-- Name -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Full Name *</label>
              <input
                type="text"
                formControlName="name"
                class="w-full border border-gray-300 rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:outline-none"
                placeholder="Enter your full name"
              />
              @if (userForm.get('name')?.hasError('required') && userForm.get('name')?.touched) {
                <div class="text-red-500 text-sm mt-1">
                  Name is required
                </div>
              }
            </div>
            <!-- Role -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Role *</label>
              <select
                formControlName="role"
                class="w-full border border-gray-300 rounded-lg px-4 py-2.5 bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:outline-none"
              >
                <option value="">Select a role</option>
                @for (role of roles; track role) {
                  <option [value]="role">{{ role }}</option>
                }
              </select>
            </div>
            <!-- Rate -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Hourly Rate ($) *</label>
              <input
                type="number"
                formControlName="rate"
                step="0.01"
                class="w-full border border-gray-300 rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:outline-none"
                placeholder="0.00"
              />
            </div>

          <!-- Buttons -->
          <div class="mt-8 flex justify-between">
            <button
              type="button"
              class="border border-red-300 text-red-700 px-6 py-2.5 rounded-lg font-medium hover:bg-red-50"
              (click)="deleteProfile()"
              [disabled]="loading"
            >
              Delete Profile
            </button>
            <div class="flex gap-3">
              <button
                type="button"
                class="border border-gray-300 text-gray-700 px-6 py-2.5 rounded-lg font-medium hover:bg-gray-50"
                (click)="router.navigate(['/start'])"
                [disabled]="loading"
              >
                Cancel
              </button>
              <button
                type="button"
                class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed"
                (click)="save()"
                [disabled]="userForm.invalid || loading"
              >
                {{ loading ? 'Saving...' : 'Save Changes' }}
              </button>
            </div>
          </div>
          </form>
        }
      }
    </div>
  </div>
</div>
