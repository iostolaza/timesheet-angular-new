
<!-- src/app/financial/create-account/create-account-dialog.component.html -->

<div class="bg-white rounded-2xl shadow-xl p-6">
  <h2 class="text-2xl font-bold text-gray-800 mb-4">Create Account</h2>

  <form [formGroup]="accountForm" class="space-y-4">
    <!-- Name -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Name</label>
      <input
        type="text"
        formControlName="name"
        class="w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
        placeholder="Account name"
        [attr.aria-required]="accountForm.get('name')?.hasError('required')"
      />
      <div *ngIf="accountForm.get('name')?.hasError('required') && accountForm.get('name')?.touched" class="text-red-500 text-sm mt-1">Name is required</div>
      <div *ngIf="accountForm.get('name')?.hasError('minlength') && accountForm.get('name')?.touched" class="text-red-500 text-sm mt-1">Name must be at least 3 characters</div>
    </div>

    <!-- Description -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Description</label>
      <textarea
        formControlName="details"
        rows="2"
        class="w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
        placeholder="Optional description"
      ></textarea>
    </div>

    <!-- Starting Balance -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Starting Balance</label>
      <input
        type="number"
        formControlName="startingBalance"
        class="w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
        placeholder="0.00"
      />
      <div *ngIf="accountForm.get('startingBalance')?.hasError('min') && accountForm.get('startingBalance')?.touched" class="text-red-500 text-sm mt-1">Balance cannot be negative</div>
    </div>

    <!-- Account Type -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Account Type</label>
      <select formControlName="type" class="w-full border border-gray-300 rounded-md px-3 py-2 bg-white focus:ring-2 focus:ring-blue-500 focus:outline-none" [attr.aria-required]="accountForm.get('type')?.hasError('required')">
        <option value="">Select type</option>
        <option value="Asset">Asset</option>
        <option value="Liability">Liability</option>
        <option value="Revenue">Revenue</option>
        <option value="Expense">Expense</option>
      </select>
      <div *ngIf="accountForm.get('type')?.hasError('required') && accountForm.get('type')?.touched" class="text-red-500 text-sm mt-1">Account type is required</div>
    </div>
  </form>

  <!-- Buttons -->
  <div class="mt-6 flex justify-end gap-3">
    <button mat-button class="border border-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-100" (click)="cancel()" aria-label="Cancel">
      Cancel
    </button>

    <button
      mat-raised-button
      color="primary"
      class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md"
      (click)="save()"
      [disabled]="accountForm.invalid"
      aria-label="Create account"
    >
      Create
    </button>
  </div>
</div>